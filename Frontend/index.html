<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <title>Intelligenter Posteingang</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <header class="topbar">
    <h1>ðŸ“¥ Intelligenter Posteingang</h1>
    <div class="actions">
      <button id="uploadBtn">PDF hochladen</button>
      <input id="uploadInput" type="file" accept="application/pdf" multiple hidden />
      <select id="statusFilter">
        <option value="">Alle Status</option>
        <option value="inbox">Inbox</option>
        <option value="needs_review">Needs Review</option>
        <option value="hold">Hold</option>
        <option value="processed">Processed</option>
        <option value="deleted">Deleted</option>
      </select>
      <button id="refreshBtn">Aktualisieren</button>
      <button id="nextBtn">NÃ¤chstes Needs-Review</button>
    </div>
  </header>

  <main class="container">
    <div class="tablewrap">
      <table>
        <thead>
          <tr>
            <th style="width:36px;"><input type="checkbox" id="selectAll" /></th>
            <th>Datei</th>
            <th>Status</th>
            <th>Confidence</th>
            <th>Kategorie</th>
            <th>Aktionen</th>
          </tr>
        </thead>
        <tbody id="rows"></tbody>
      </table>
    </div>
  </main>

  <!-- Detail-Modal -->
  <div id="detailModal" class="modal hidden">
    <div class="modal-card">
      <div class="modal-head">
        <h2 id="detailTitle">Details</h2>
        <button id="closeDetail">âœ•</button>
      </div>
      <div class="modal-body">
        <div class="modal-grid">
          <div>
            <label>Dokument anzeigen</label>
            <div id="pdfLinkWrap"></div>
          </div>
          <div>
            <label>Kategorie</label>
            <input id="editCategory" placeholder="z.B. Rechnung" />
          </div>
          <div>
            <label>Dokument-ID</label>
            <input id="editDocId" placeholder="z.B. RE-2025-0001" />
          </div>
          <div>
            <label>Betreff</label>
            <input id="editSubject" placeholder="z.B. Gasrechnung August" />
          </div>
          <div>
            <label>Dokumentdatum</label>
            <input id="editDocDate" placeholder="YYYY-MM-DD" />
          </div>
          <div>
            <label>Confidence</label>
            <input id="editConfidence" type="number" step="0.01" min="0" max="1" />
          </div>
        </div>
      </div>
      <div class="modal-foot">
        <div class="left">
          <button id="saveMetadata">ðŸ’¾ Speichern</button>
          <button id="processNow">âœ… Verarbeiten</button>
        </div>
        <div class="right">
          <label><input type="checkbox" id="openNextAfterSave" /> nÃ¤chstes Dokument Ã¶ffnen</label>
        </div>
      </div>
    </div>
  </div>

  <script src="./app.js"></script>
</body>
</html>
